<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link rel="stylesheet" href="bootstrap.css">

    <title>Sito Vincenzo</title>
</head>
<body>

    <!--Title-->
    <div class="container text-center">
        <h2 class="pt-5">Death Risk and Mace</h2>
          <p class="lead">Select all of the following to get a risk score.</p>
    </div>

    <!--Form-->
    <div class="container px-5 my-5" id="form" onsubmit="return false">
        <form id="contactForm" data-sb-form-api-token="API_TOKEN">

            <!--Sex-->
            <div class="mb-3">
                <label class="font-weight-bold form-label d-block">Sex</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="male" type="radio" name="sex" data-sb-validations="required" />
                    <label class="form-check-label" for="male">Male</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="female" type="radio" name="sex" data-sb-validations="required" />
                    <label class="form-check-label" for="female">Female</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="sex:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--Age-->
            <div class="mb-3">
                <label class="form-label d-block">Age</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="80" type="radio" name="age" data-sb-validations="required" />
                    <label class="form-check-label" for="80">Less than 80</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="80-85" type="radio" name="age" data-sb-validations="required" />
                    <label class="form-check-label" for="80-85">Between 80 and 85</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="85" type="radio" name="age" data-sb-validations="required" />
                    <label class="form-check-label" for="85">More than 85</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="age:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--BMI-->
            <div class="mb-3">
                <label class="form-label d-block">BMI</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="lessThan25" type="radio" name="bmi" data-sb-validations="required" />
                    <label class="form-check-label" for="lessThan25">Less than 25</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="between25And30" type="radio" name="bmi" data-sb-validations="required" />
                    <label class="form-check-label" for="between25And305">Between 25 and 30</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="moreThan30" type="radio" name="bmi" data-sb-validations="required" />
                    <label class="form-check-label" for="moreThan30">More than 30</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="age:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--Diabetes-->
            <div class="mb-3">
                <label class="form-label d-block">Diabetes</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="diabetes" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="diabetes" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="diabetes:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--AF-->
            <div class="mb-3">
                <label class="form-label d-block">AF</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="af" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="af" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="af:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--NYHA-->
            <div class="mb-3">
                <label class="form-label d-block">NYHA 3/4</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="nyha34" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="nyha34" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="nyha34:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--CAD-->
            <div class="mb-3">
                <label class="form-label d-block">CAD</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="cad" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="cad" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="cad:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--PAD-->
            <div class="mb-3">
                <label class="form-label d-block">PAD</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="pad" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="pad" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="cad:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--COPD-->
            <div class="mb-3">
                <label class="form-label d-block">COPD</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="copd" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="copd" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="copd:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--Low Hb-->
            <div class="mb-3">
                <label class="form-label d-block">Low Hb (&lt;13.8 g/dL for male and &lt;12.1 g/dL for female)</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="lowhb" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="lowhb" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="lowhb:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--High Creatinine-->
            <div class="mb-3">
                <label class="form-label d-block">High creatinine (&gt;1.3 mg/dL for male and &gt;1.1 mg/dL for female)</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="hicre" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="hicre" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="hicre:required">One option is required.</div>
            </div>
            <hr class="my-4">

            <!--EF-->
            <div class="mb-3">
                <label class="form-label d-block">EF &lt;50%</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="yes" type="radio" name="ef50" data-sb-validations="required" />
                    <label class="form-check-label" for="yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" id="no" type="radio" name="ef50" data-sb-validations="required" />
                    <label class="form-check-label" for="no">No</label>
                </div>
                <div class="invalid-feedback" data-sb-feedback="ef50:required">One option is required.</div>
            </div>

            <!--Results-->
            <div class="container">
                <div class="card-deck mb-3 text-center">

                    <!--Death Risk Score-->
                    <div class="card mb-4 box-shadow">
                      <div class="card-header">
                        <h4 class="my-0 font-weight-normal">Click to get Death Risk</h4>
                      </div>
                      <div class="card-body">
                        <h1 class="card-title pricing-card-title"><div id="total"></div><small class="text-muted">%</small></h1>
                        <button type="button" onclick="deathRisk()" class="btn btn-lg btn-block btn-primary">Death Risk</button>
                      </div>
                    </div>

                    <!--Mace-->
                    <div class="card mb-4 box-shadow">
                      <div class="card-header">
                        <h4 class="my-0 font-weight-normal">Click to get MACE</h4>
                      </div>
                      <div class="card-body">
                        <h1 class="card-title pricing-card-title"><div id="total"></div><small class="text-muted">%</small></h1>
                        <button type="button" onclick="mace();" class="btn btn-lg btn-block btn-primary">MACE</button>
                      </div>
                    </div>

                    <!--Clear-->
                    <div class="card mb-4 box-shadow">
                      <div class="card-header">
                        <h4 class="my-0 font-weight-normal">Click to clear the values</h4>
                      </div>
                      <div class="card-body">
                        <button type="button" onclick="clear(); refresh();" class="btn btn-lg btn-block btn-outline-primary">CLEAR</button>
                      </div>
                    </div>
                  </div>
            </div>
            


            <div class="d-none" id="submitSuccessMessage">
                <div class="text-center mb-3">
                    <div class="fw-bolder">Form submission successful!</div>
                    <p>To activate this form, sign up at</p>
                    <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a>
                </div>
            </div>
            <div class="d-none" id="submitErrorMessage">
                <div class="text-center text-danger mb-3">Error sending message!</div>
            </div>
        </form>
    </div>
    <script src="script.js"></script>

</body>

<script>

    function deathRisk() {
        let totalScore = 0;
        let riskScore = 0;

        /*Death Risk Attributes*/
        let sex = document.querySelector('input[name="sex"]:checked').id;
        if (sex == "male") {
            let sexScore = 2.21;
            totalScore += sexScore;
        } else {
            let sexScore = 0;
            totalScore += sexScore;
        }

        let age = document.querySelector('input[name="age"]:checked').id;
        if (age == "80") {
            let ageScore = 0;
            totalScore += ageScore;
        } else if (age == "80-85") {
            let ageScore = 3.10;
            totalScore += ageScore;
        } else {
            let ageScore = 7.50;
            totalScore += ageScore;
        }

        let diabetes = document.querySelector('input[name="diabetes"]:checked').id;
        if (diabetes == "yes") {
            let diabetesScore = 5.52;
            totalScore += diabetesScore;
        } else {
            let diabetesScore = 0;
            totalScore += diabetesScore;
        }

        let af = document.querySelector('input[name="af"]:checked').id;
        if (af == "yes") {
            let afScore = 10;
            totalScore += afScore;
        } else {
            let afScore = 0;
            totalScore += afScore;
        }

        let nyha34 = document.querySelector('input[name="nyha34"]:checked').id;
        if (nyha34 == "yes") {
            let nyha34Score = 6.9;
            totalScore += nyha34Score;
        } else {
            let nyha34Score = 0;
            totalScore += nyha34Score;
        }

        let cad = document.querySelector('input[name="cad"]:checked').id;
        if (cad == "yes") {
            let cadScore = 6.9;
            totalScore += cadScore;
        } else {
            let cadScore = 0;
            totalScore += cadScore;
        }

        let lowhb = document.querySelector('input[name="lowhb"]:checked').id;
        if (lowhb == "yes") {
            let lowhbScore = 7.75;
            totalScore += lowhbScore;
        } else {
            let lowhbScore = 0;
            totalScore += lowhbScore;
        }

        let hicre = document.querySelector('input[name="hicre"]:checked').id;
        if (hicre == "yes") {
            let hicreScore = 7.10;
            totalScore += hicreScore;
        } else {
            let hicreScore = 0;
            totalScore += hicreScore;
        }

        let ef50 = document.querySelector('input[name="ef50"]:checked').id;
        if (ef50 == "yes") {
            let ef50Score = 4.3;
            totalScore += ef50Score;
        } else {
            let ef50Score = 0;
            totalScore += ef50Score;
        }

        /*Total Death Risk Score*/
        if (totalScore < 2.49) {
            riskScore = 0;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 4.99){
            riskScore = 2.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 7.49){
            riskScore = 4.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 9.99){
            riskScore = 6;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 12.49){
            riskScore = 6.4;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 14.99){
            riskScore = 6.8;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 17.49){
            riskScore = 7.2;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 19.99){
            riskScore = 7.6;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 22.49){
            riskScore = 8;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 24.99){
            riskScore = 8.75;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 27.49){
            riskScore = 9.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 29.99){
            riskScore = 10.25;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 32.49){
            riskScore = 11;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 34.99){
            riskScore = 11.75;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 37.49){
            riskScore = 12.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 39.99){
            riskScore = 13.25;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 42.49){
            riskScore = 14;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 44.99){
            riskScore = 14.75;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 47.49){
            riskScore = 15.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 49.99){
            riskScore = 16.25;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 52.49){
            riskScore = 17;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 54.99){
            riskScore = 18;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 57.49){
            riskScore = 19;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 59.99){
            riskScore = 20;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 62.49){
            riskScore = 21;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 64.99){
            riskScore = 22.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 67.49){
            riskScore = 24;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 69.99){
            riskScore = 25.5;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 72.49){
            riskScore = 27;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 74.99){
            riskScore = 29;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 77.49){
            riskScore = 31;
            riskScore = riskScore.toFixed(2);
        } else if (totalScore < 77.99){
            riskScore = 33;
            riskScore = riskScore.toFixed(2);
        } else {
            riskScore = 35;
            riskScore = riskScore.toFixed(2);
        }
        

        document.getElementById('total').innerHTML = riskScore.toString();
    }


    function clear() {
        HTMLFormElement.reset()
    }

    function refresh () {
        window.location.reload(true);  
    }

</script>

</html>
